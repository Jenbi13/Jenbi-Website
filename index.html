<!DOCTYPE html>
<html lang="de" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jenbi</title>
  <meta name="description" content="Jenbi â€“ Mini-Games, Links & ein bisserl Ãœber mich." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ®</text></svg>">
  <style>
    :root{
      --bg:#f6f7fb;--surface:#fff;--text:#0f172a;--muted:#475569;
      --primary:#2a6cf4;--primary-contrast:#fff;--ring:0 0 0 3px rgba(42,108,244,.35);
      --radius:14px;--shadow:0 10px 30px rgba(2,8,23,.08);
    }
    @media (prefers-color-scheme: dark){
      :root{--bg:#0b1220;--surface:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--primary:#60a5fa;--primary-contrast:#0b1220;--shadow:0 12px 40px rgba(0,0,0,.45);}
    }
    html[data-theme="light"]{--bg:#f6f7fb;--surface:#fff;--text:#0f172a;--muted:#475569;--primary:#2a6cf4;--primary-contrast:#fff;--shadow:0 10px 30px rgba(2,8,23,.08);}
    html[data-theme="dark"]{--bg:#0b1220;--surface:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--primary:#60a5fa;--primary-contrast:#0b1220;--shadow:0 12px 40px rgba(0,0,0,.45);}
    *{box-sizing:border-box}
    body{
      margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
      background: radial-gradient(1200px 600px at 80% -10%, rgba(42,108,244,.12), transparent 60%),
                  radial-gradient(1000px 600px at -10% 10%, rgba(99,102,241,.10), transparent 55%),
                  var(--bg);
      line-height:1.6;
    }
    .wrap{max-width:960px;margin:28px auto;padding:0 16px 56px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:56px;height:56px;border-radius:50%;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,.15)}
    .title{font-size:1.6rem;font-weight:800;letter-spacing:.2px}
    .muted{color:var(--muted);font-size:.95rem}
    .btn{
      appearance:none;border:0;cursor:pointer;font-weight:700;background:var(--primary);color:var(--primary-contrast);
      padding:10px 14px;border-radius:10px;box-shadow:0 6px 16px rgba(42,108,244,.35);
      transition:transform .15s ease,filter .2s ease
    }
    .btn:hover{transform:translateY(-1px);filter:brightness(1.05)}
    .btn:focus-visible{outline:none;box-shadow:var(--ring)}
    .card{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);overflow:clip;border:1px solid rgba(148,163,184,.15)}
    .tablist{display:flex;flex-wrap:wrap;gap:8px;background:linear-gradient(180deg, rgba(42,108,244,.12), transparent);padding:14px;border-bottom:1px solid rgba(148,163,184,.20)}
    .tab{appearance:none;border:0;cursor:pointer;background:var(--surface);color:var(--text);padding:10px 14px;border-radius:10px;font-weight:600;transition:transform .15s ease, background .2s ease;box-shadow:0 2px 8px rgba(2,8,23,.05)}
    .tab[aria-selected="true"]{background:var(--primary);color:var(--primary-contrast)}
    .tab:hover{transform:translateY(-1px)}
    .tabpanel{display:none;padding:22px}
    .tabpanel[aria-hidden="false"]{display:block}
    .link{color:var(--primary);font-weight:700;text-decoration:none}
    .game-area{display:grid;gap:14px;max-width:620px}
    .choices{display:flex;flex-wrap:wrap;gap:10px}
    .score{font-weight:800}
    iframe{border:0;width:100%;aspect-ratio:16/9;border-radius:12px}
    footer{margin-top:24px;color:var(--muted);font-size:.9rem;text-align:center}

    /* Dropdown fÃ¼r Games */
    .game-select{display:flex;gap:10px;align-items:center}
    select{padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.3);background:var(--surface);color:var(--text)}

    /* Reaction Timer */
    .react-box{
      height:160px;border-radius:12px;border:1px dashed rgba(148,163,184,.45);
      display:flex;align-items:center;justify-content:center;font-weight:800;user-select:none;cursor:pointer
    }
    .react-box.wait{background:#8b1d1d22} /* rot-ish */
    .react-box.go{background:#1d8b1d22}   /* grÃ¼n-ish */

    /* Snake Overlay/Blur */
    .snake-wrap{position:relative;display:inline-block}
    .snake-wrap canvas{display:block}
    .snake-wrap.blurred canvas{filter:blur(3px)}
    .snake-overlay{
      position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.15rem;
      color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.4);background:rgba(0,0,0,.35);border-radius:10px;opacity:0;pointer-events:none;transition:opacity .2s ease;user-select:none
    }
    .snake-overlay.show{opacity:1;pointer-events:auto;cursor:pointer}

    .hint{color:var(--muted);font-size:.9rem}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <img alt="Jenbi Avatar" src="https://yt3.googleusercontent.com/5j4zseBO0OrjSe51wzVmqQ8jfrpsTFhk_GSuij_Ng9vusIpFr6l7Vi9S_8Klo-yCVRyEOCBKDg=s256-c-k-c0x00ffffff-no-rj" />
        <div>
          <div class="title">Jenbi</div>
          <div class="muted">Roblox â€¢ Minecraft â€¢ Nintendo â€¢ aus NÃ– ğŸ¦Œ</div>
        </div>
      </div>
      <button id="themeToggle" class="btn">ğŸŒ“ Theme</button>
    </header>

    <section class="card" id="tabs">
      <div role="tablist" class="tablist" aria-label="Bereiche">
        <button class="tab" role="tab" data-tab="ueber" aria-controls="panel-ueber" aria-selected="true">ğŸ§ Ãœber mich</button>
        <button class="tab" role="tab" data-tab="games" aria-controls="panel-games" aria-selected="false">ğŸ® Mini-Games</button>
        <button class="tab" role="tab" data-tab="links" aria-controls="panel-links" aria-selected="false">ğŸ”— Links</button>
      </div>

      <div id="panel-ueber" class="tabpanel" role="tabpanel" aria-hidden="false">
        <h2>Ãœber mich</h2>
        <p>Servas! Ich bin <strong>Jenbi</strong> â€“ willkommen auf meiner kleinen, aber feinen Seite. Hier findâ€™sd Mini-Games, Links und a bissl was Ã¼ber mich. ğŸ˜</p>
        <p>Ich kommâ€™ aus dem schÃ¶nen <strong>NiederÃ¶sterreich</strong> und mach (wenn ich brav bin ğŸ˜‰) Videos zu <em>Roblox</em>, <em>Minecraft</em> und <em>Nintendo</em>.</p>
        <p>Homies: <strong>Fabian</strong> (IRL) und <strong>Joel</strong> (Brawl Stars-Discord).</p>
      </div>

      <div id="panel-games" class="tabpanel" role="tabpanel" aria-hidden="true">
        <h2>Mini-Games</h2>

        <div class="game-select">
          <label for="gameSelect" class="muted">Spiel wÃ¤hlen:</label>
          <select id="gameSelect" aria-label="Spiel wÃ¤hlen">
            <option value="none">â€” bitte auswÃ¤hlen â€”</option>
            <option value="ssp">âœ‚ï¸ğŸª¨ğŸ“„ Schereâ€“Steinâ€“Papier</option>
            <option value="reaction">âš¡ Reaktions-Test</option>
            <option value="snake">ğŸ Snake</option>
            <option value="trivia">â“ Trivia Quiz</option>
          </select>
        </div>

        <!-- SSP -->
        <article id="game-ssp" class="game-area" hidden>
          <h3>ğŸ® Schereâ€“Steinâ€“Papier</h3>
          <p class="muted">Outplay den Bot! (Score wird gespeichert)</p>
          <div class="choices">
            <button class="btn" data-choice="Schere">âœŒï¸ Schere</button>
            <button class="btn" data-choice="Stein">ğŸª¨ Stein</button>
            <button class="btn" data-choice="Papier">ğŸ“„ Papier</button>
            <button class="btn" id="sspReset">ğŸ” Reset</button>
          </div>
          <p id="ssp-result" class="score">â€”</p>
          <p class="muted" id="ssp-score" aria-live="polite">Score: 0 ğŸ† | Wins: 0 | Losses: 0 | Draws: 0</p>
        </article>

        <!-- Reaction -->
        <article id="game-reaction" class="game-area" hidden>
          <h3>âš¡ Reaktions-Test</h3>
          <p class="muted">Klick ins Feld, um zu starten. Wennâ€™s grÃ¼n wird, sofort klicken. Klickst du im Roten â†’ <em>Zu frÃ¼h!</em></p>
          <div id="reactBox" class="react-box">Klicke zum Starten</div>
          <p id="reactResult" class="score">â€”</p>
          <p class="muted">Wins: <span id="reactWins">0</span> | Losses: <span id="reactLoss">0</span></p>
        </article>

        <!-- Snake -->
        <article id="game-snake" class="game-area" hidden>
          <h3>ğŸ Snake</h3>
          <div class="snake-wrap" id="snakeWrap">
            <canvas id="snakeCanvas" width="300" height="300"></canvas>
            <div id="snakeOverlay" class="snake-overlay">Klicke zum Starten</div>
          </div>
          <p>Score: <span id="snakeScore">0</span></p>
          <p>Wins: <span id="snakeWins">0</span> | Losses: <span id="snakeLoss">0</span></p>
          <p class="hint">WASD / Pfeile â†’ steuern â€¢ <strong>R</strong> â†’ Reset â€¢ <strong>Leertaste</strong> â†’ Pause/Resume</p>
        </article>

        <!-- Trivia -->
        <article id="game-trivia" class="game-area" hidden>
          <h3>â“ Trivia Quiz</h3>
          <p class="muted">Es werden 5 zufÃ¤llige Fragen gestellt.</p>
          <div class="choices" style="gap:6px">
            <button class="btn" id="triviaStart">â–¶ï¸ Quiz starten</button>
          </div>
          <div id="triviaUI" hidden>
            <p id="triviaQ" class="score">â€”</p>
            <input id="triviaAnswer" type="text" placeholder="Antwort eingeben" style="padding:10px;border-radius:10px;border:1px solid rgba(148,163,184,.35);background:var(--surface);color:var(--text);width:100%;max-width:420px">
            <div class="choices" style="gap:6px;margin-top:8px">
              <button class="btn" id="triviaSubmit">Antwort senden</button>
              <button class="btn" id="triviaSkip" title="Frage Ã¼berspringen">â­ï¸ Skip</button>
            </div>
            <p id="triviaResult" class="muted">â€”</p>
            <p class="muted">Frage <span id="triviaNum">0</span>/5 â€¢ Richtig: <span id="triviaWins">0</span> â€¢ Falsch: <span id="triviaLoss">0</span></p>
          </div>
        </article>
      </div>

      <div id="panel-links" class="tabpanel" role="tabpanel" aria-hidden="true">
        <h2>Links</h2>
        <p>Mein YouTube-Kanal:</p>
        <p><a class="link" href="https://www.youtube.com/@jenbi13" target="_blank" rel="noopener noreferrer">â¡ï¸ Jenbi auf YouTube</a></p>
        <p>Beliebtestes Video:</p>
        <iframe title="Beliebtestes Video von Jenbi" src="https://www.youtube.com/embed/lDBJk9_NfrY" loading="lazy" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
    </section>

    <footer>
      <p>Â© <span id="year"></span> Jenbi â€¢ Gemacht mit â¤ï¸ & ein bissl SchmÃ¤h.</p>
    </footer>
  </div>

  <script>
    const $ = (s, r=document)=>r.querySelector(s);
    const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

    /* ===== Theme (persist) ===== */
    const themeToggle = $('#themeToggle');
    const THEME_KEY = 'jenbi.theme';
    (function initTheme(){
      const saved = localStorage.getItem(THEME_KEY);
      if (saved === 'light' || saved === 'dark') document.documentElement.setAttribute('data-theme', saved);
      else document.documentElement.setAttribute('data-theme', 'auto');
    })();
    themeToggle.addEventListener('click', ()=>{
      const cur = document.documentElement.getAttribute('data-theme');
      const next = cur === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem(THEME_KEY, next);
    });

    /* ===== Tabs ===== */
    const tabButtons = $$('.tab');
    const panels = $$('.tabpanel');
    function showTab(name){
      tabButtons.forEach(b=>{
        const active = b.dataset.tab === name;
        b.setAttribute('aria-selected', active);
      });
      panels.forEach(p=>{
        p.setAttribute('aria-hidden', p.id !== 'panel-'+name);
      });
    }
    tabButtons.forEach(btn=>{
      btn.addEventListener('click', ()=>showTab(btn.dataset.tab));
    });

    /* ===== Game Dropdown ===== */
    const gameSelect = $('#gameSelect');
    const gameSections = {
      ssp: $('#game-ssp'),
      reaction: $('#game-reaction'),
      snake: $('#game-snake'),
      trivia: $('#game-trivia')
    };
    function setGame(val){
      Object.values(gameSections).forEach(sec=>sec.hidden = true);
      if (val in gameSections) gameSections[val].hidden = false;
    }
    gameSelect.addEventListener('change', ()=>setGame(gameSelect.value));
    setGame('none');

    /* ===== SSP (persist score) ===== */
    const SSP_KEY = 'jenbi.ssp.score';
    const sspScoreEl = $('#ssp-score');
    const sspResultEl = $('#ssp-result');
    let sspScore = { total:0, win:0, lose:0, draw:0 };
    try{
      const saved = JSON.parse(localStorage.getItem(SSP_KEY));
      if (saved && typeof saved==='object') sspScore = saved;
    }catch{}
    function sspSync(){
      sspScoreEl.textContent = `Score: ${sspScore.total} ğŸ† | Wins: ${sspScore.win} | Losses: ${sspScore.lose} | Draws: ${sspScore.draw}`;
      localStorage.setItem(SSP_KEY, JSON.stringify(sspScore));
    }
    sspSync();
    const choices = ['Schere','Stein','Papier'];
    const beats = { Schere:'Papier', Stein:'Schere', Papier:'Stein' };
    function playSSP(choice){
      const bot = choices[Math.floor(Math.random()*3)];
      let msg;
      if (choice===bot){ sspScore.draw++; sspScore.total++; msg = `${choice} vs ${bot} â€¦ Unentschieden!`; }
      else if (beats[choice]===bot){ sspScore.win++; sspScore.total++; msg = `${choice} vs ${bot} â€¦ DU HAST GEWONNEN!`; }
      else { sspScore.lose++; sspScore.total++; msg = `${choice} vs ${bot} â€¦ Du hast verloren!`; }
      sspResultEl.textContent = msg; sspSync();
    }
    $$('#game-ssp [data-choice]').forEach(b=>b.addEventListener('click', ()=>playSSP(b.dataset.choice)));
    $('#sspReset').addEventListener('click', ()=>{ sspScore={total:0,win:0,lose:0,draw:0}; sspSync(); sspResultEl.textContent='â€”'; });

    /* ===== Reaction Timer (box controls everything) ===== */
    const reactBox = $('#reactBox');
    const reactResult = $('#reactResult');
    const reactWinsEl = $('#reactWins');
    const reactLossEl = $('#reactLoss');
    let reactState = 'idle'; // idle | waiting | go
    let reactTimeout = null;
    let reactStart = 0;
    let rw=0, rl=0;

    function setReactState(st){
      reactState = st;
      reactBox.classList.remove('wait','go');
      if (st==='idle'){ reactBox.textContent = 'Klicke zum Starten'; }
      if (st==='waiting'){ reactBox.classList.add('wait'); reactBox.textContent = 'Warte auf GrÃ¼nâ€¦'; }
      if (st==='go'){ reactBox.classList.add('go'); reactBox.textContent = 'JETZT! Klicken!'; }
    }
    setReactState('idle');

    reactBox.addEventListener('click', ()=>{
      if (reactState==='idle'){
        setReactState('waiting');
        reactResult.textContent = 'â€”';
        clearTimeout(reactTimeout);
        reactTimeout = setTimeout(()=>{
          setReactState('go');
          reactStart = Date.now();
        }, 1000 + Math.random()*2000);
      } else if (reactState==='waiting'){
        // zu frÃ¼h
        clearTimeout(reactTimeout);
        rl++; reactLossEl.textContent = rl;
        reactResult.textContent = 'Zu frÃ¼h!';
        setReactState('idle');
      } else if (reactState==='go'){
        const t = Date.now() - reactStart;
        rw++; reactWinsEl.textContent = rw;
        reactResult.textContent = `Reaktion: ${t} ms`;
        setReactState('idle');
      }
    });

    /* ===== Snake (overlay + pause blur) ===== */
    const canvas = $('#snakeCanvas');
    const ctx = canvas.getContext('2d');
    const box = 15;
    const snakeWrap = $('#snakeWrap');
    const snakeOverlay = $('#snakeOverlay');
    const snakeScoreEl = $('#snakeScore');
    const snakeWinsEl = $('#snakeWins');
    const snakeLossEl = $('#snakeLoss');
    let snake = [];
    let dir = '';
    let food = {x:0,y:0};
    let snakeScore = 0;
    let snakeWins = 0, snakeLoss = 0;
    let snakeInterval = null;
    let snakeState = 'idle'; // idle | running | paused | gameover

    function spawnFood(){
      do{
        food = {
          x: Math.floor(Math.random()*(canvas.width/box))*box,
          y: Math.floor(Math.random()*(canvas.height/box))*box
        };
      }while(snake.some(s=>s.x===food.x && s.y===food.y));
    }
    function updateSnakeUI(){
      snakeScoreEl.textContent = snakeScore;
      snakeWinsEl.textContent = snakeWins;
      snakeLossEl.textContent = snakeLoss;
    }
    function showSnakeOverlay(text, blur=false){
      snakeOverlay.textContent = text;
      snakeOverlay.classList.add('show');
      snakeWrap.classList.toggle('blurred', !!blur);
    }
    function hideSnakeOverlay(){
      snakeOverlay.classList.remove('show');
      snakeWrap.classList.remove('blurred');
    }
    function drawSnakeFrame(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      // body
      ctx.fillStyle='green';
      snake.forEach(seg=>ctx.fillRect(seg.x,seg.y,box,box));
      // food
      ctx.fillStyle='red';
      ctx.fillRect(food.x,food.y,box,box);
    }
    function resetSnake(toIdle=true){
      snake = [{x:10*box, y:10*box}];
      dir = '';
      snakeScore = 0;
      spawnFood();
      clearInterval(snakeInterval);
      drawSnakeFrame();
      updateSnakeUI();
      if (toIdle){
        snakeState='idle';
        showSnakeOverlay('Klicke zum Starten', false);
      } else {
        startSnake();
      }
    }
    function startSnake(){
      if (snakeState==='running') return;
      hideSnakeOverlay();
      snakeState='running';
      clearInterval(snakeInterval);
      snakeInterval=setInterval(tickSnake, 100);
    }
    function pauseSnake(){
      if (snakeState!=='running') return;
      snakeState='paused';
      clearInterval(snakeInterval);
      showSnakeOverlay('Pause', true);
    }
    function resumeSnake(){
      if (snakeState!=='paused') return;
      startSnake();
    }
    function tickSnake(){
      drawSnakeFrame();
      // next head
      let head = {x:snake[0].x, y:snake[0].y};
      if (dir==='LEFT') head.x -= box;
      if (dir==='RIGHT') head.x += box;
      if (dir==='UP') head.y -= box;
      if (dir==='DOWN') head.y += box;

      const hitWall = head.x<0 || head.x>=canvas.width || head.y<0 || head.y>=canvas.height;
      const hitSelf = snake.some((s,i)=>i!==0 && s.x===head.x && s.y===head.y);
      if (hitWall || hitSelf){
        snakeLoss++; updateSnakeUI();
        clearInterval(snakeInterval);
        snakeState='gameover';
        showSnakeOverlay('Klicke zum Starten', false);
        return;
      }
      snake.unshift(head);
      if (head.x===food.x && head.y===food.y){
        snakeScore++; updateSnakeUI(); spawnFood();
        // kleines â€Winâ€œ-GefÃ¼hl bei jedem 10er?
        if (snakeScore>0 && snakeScore % 10 === 0){ snakeWins++; updateSnakeUI(); }
      } else {
        snake.pop();
      }
    }
    // Steuerung
    document.addEventListener('keydown', (e)=>{
      const k = e.key.toUpperCase();
      if ((k==='ARROWUP' || k==='W') && dir!=='DOWN') dir='UP';
      else if ((k==='ARROWDOWN' || k==='S') && dir!=='UP') dir='DOWN';
      else if ((k==='ARROWLEFT' || k==='A') && dir!=='RIGHT') dir='LEFT';
      else if ((k==='ARROWRIGHT' || k==='D') && dir!=='LEFT') dir='RIGHT';
      else if (k==='R'){ resetSnake(true); }
      else if (k===' ' || k==='SPACEBAR'){
        e.preventDefault();
        if (snakeState==='running') pauseSnake();
        else if (snakeState==='paused') resumeSnake();
      }
    });
    // Overlay klick: Start/Resume
    snakeOverlay.addEventListener('click', ()=>{
      if (snakeState==='idle' || snakeState==='gameover') resetSnake(false);
      else if (snakeState==='paused') resumeSnake();
    });
    // Initial vorbereiten (aber Spiel ist erst nach Auswahl sichtbar)
    resetSnake(true);

    /* ===== Trivia ===== */
    const TRIVIA_POOL = [
      // Geschichte (5)
      {q:'In welchem Jahr fiel die Berliner Mauer?', a:'1989'},
      {q:'Wer war der erste Bundeskanzler der BRD?', a:'konrad adenauer'},
      {q:'Wie hieÃŸ das rÃ¶mische Imperium auf Deutsch?', a:'rÃ¶misches reich'},
      {q:'Welcher Entdecker erreichte 1492 Amerika?', a:'christoph kolumbus'},
      {q:'Welche Stadt wurde 79 n. Chr. vom Vesuv verschÃ¼ttet?', a:'pompeji'},
      // Minecraft (5)
      {q:'Wie heiÃŸt das grÃ¼ne, explodierende Monster?', a:'creeper'},
      {q:'Welches Tier droppt Leder?', a:'kuh'},
      {q:'Wie heiÃŸt die Dimension mit dem Enderdrachen?', a:'das ende'},
      {q:'Welche Spitzhacke braucht man fÃ¼r Obsidian?', a:'diamant'},
      {q:'Welcher mob droppt enderperlen?', a:'enderman'},
      // Geographie (5)
      {q:'Hauptstadt von Ã–sterreich?', a:'wien'},
      {q:'LÃ¤ngster Fluss der Welt?', a:'nil'},
      {q:'Welcher Kontinent hat die Sahara?', a:'afrika'},
      {q:'HÃ¶chster Berg der Erde?', a:'mount everest'},
      {q:'Hauptstadt von Frankreich?', a:'paris'},
      // FuÃŸball (5)
      {q:'Wie groÃŸ ist ein Team beim FuÃŸball (ohne Wechsel)?', a:'11'},
      {q:'Wie heiÃŸt das grÃ¶ÃŸte Turnier fÃ¼r Nationalmannschaften?', a:'weltmeisterschaft'},
      {q:'Wie nennt man den Schiedsrichter-Assistenten an der Linie?', a:'linienrichter'},
      {q:'Welches Teil des Tores ist oben quer?', a:'latte'},
      {q:'Wie heiÃŸt die europÃ¤ische Vereinsmeisterschaft?', a:'champions league'}
    ];
    const triviaStartBtn = $('#triviaStart');
    const triviaUI = $('#triviaUI');
    const triviaQ = $('#triviaQ');
    const triviaAnswer = $('#triviaAnswer');
    const triviaSubmit = $('#triviaSubmit');
    const triviaSkip = $('#triviaSkip');
    const triviaNumEl = $('#triviaNum');
    const triviaWinsEl = $('#triviaWins');
    const triviaLossEl = $('#triviaLoss');
    const triviaResult = $('#triviaResult');

    let triviaList = [];
    let triviaIndex = 0;
    let tWins = 0, tLoss = 0;

    function pickFiveRandom(arr){
      const copy = [...arr];
      for (let i=copy.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy.slice(0,5);
    }
    function showTrivia(){
      if (triviaIndex >= triviaList.length){
        triviaQ.textContent = 'Fertig! ğŸ‰';
        triviaResult.textContent = 'â€”';
        triviaUI.hidden = false;
        return;
      }
      triviaQ.textContent = triviaList[triviaIndex].q;
      triviaNumEl.textContent = (triviaIndex+1);
      triviaAnswer.value = '';
      triviaAnswer.focus();
      triviaResult.textContent = 'â€”';
    }
    triviaStartBtn.addEventListener('click', ()=>{
      tWins=0; tLoss=0; triviaIndex=0;
      triviaWinsEl.textContent = tWins; triviaLossEl.textContent = tLoss;
      triviaList = pickFiveRandom(TRIVIA_POOL);
      triviaUI.hidden = false;
      showTrivia();
    });
    function checkTrivia(submitSkip=false){
      if (triviaIndex >= triviaList.length) return;
      const right = triviaList[triviaIndex].a.trim().toLowerCase();
      const got = (submitSkip ? '' : triviaAnswer.value.trim().toLowerCase());
      if (!submitSkip && got && (got===right || right.startsWith(got) && right.length>3)){
        tWins++; triviaWinsEl.textContent = tWins;
        triviaResult.textContent = 'âœ… Richtig!';
      } else {
        tLoss++; triviaLossEl.textContent = tLoss;
        triviaResult.textContent = `âŒ Falsch! Richtige Antwort: ${right}`;
      }
      triviaIndex++;
      setTimeout(showTrivia, 700);
    }
    triviaSubmit.addEventListener('click', ()=>checkTrivia(false));
    triviaSkip.addEventListener('click', ()=>checkTrivia(true));
    triviaAnswer.addEventListener('keydown', (e)=>{ if (e.key==='Enter') checkTrivia(false); });

    /* ===== Konami Code â†’ Rickroll ===== */
    const KONAMI = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
    let kPos = 0;
    document.addEventListener('keydown', (e)=>{
      if (e.key === KONAMI[kPos]) { kPos++; if (kPos===KONAMI.length){ window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ','_blank'); kPos=0; } }
      else { kPos = 0; }
    });

    /* Footer year */
    $('#year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
