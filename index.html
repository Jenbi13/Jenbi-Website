<!DOCTYPE html>
<html lang="de" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jenbi</title>
  <meta name="description" content="Jenbi – Mini-Games, Links & ein bisserl Über mich." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🎮</text></svg>">
  <style>
    /* ===== Design Tokens ===== */
    :root {
      --bg: #f6f7fb;
      --surface: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --primary: #2a6cf4;
      --primary-contrast: #ffffff;
      --ring: 0 0 0 3px rgba(42,108,244,.35);
      --radius: 14px;
      --shadow: 0 10px 30px rgba(2, 8, 23, 0.08);
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0b1220;
        --surface: #0f172a;
        --text: #e5e7eb;
        --muted: #94a3b8;
        --primary: #60a5fa;
        --primary-contrast: #0b1220;
        --shadow: 0 12px 40px rgba(0,0,0,.45);
      }
    }
    html[data-theme="light"] {
      --bg: #f6f7fb; --surface: #ffffff; --text: #0f172a; --muted: #475569;
      --primary: #2a6cf4; --primary-contrast: #ffffff; --shadow: 0 10px 30px rgba(2, 8, 23, 0.08);
    }
    html[data-theme="dark"] {
      --bg: #0b1220; --surface: #0f172a; --text: #e5e7eb; --muted: #94a3b8;
      --primary: #60a5fa; --primary-contrast: #0b1220; --shadow: 0 12px 40px rgba(0,0,0,.45);
    }

    /* ===== Base ===== */
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0;
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(42,108,244,.12), transparent 60%),
        radial-gradient(1000px 600px at -10% 10%, rgba(99,102,241,.10), transparent 55%),
        var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    .wrap { max-width: 960px; margin: 28px auto; padding: 0 16px 56px; }

    header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 14px; }
    .brand { display: flex; align-items: center; gap: 12px; }
    .brand img { width: 56px; height: 56px; border-radius: 50%; object-fit: cover; box-shadow: 0 6px 18px rgba(0,0,0,.15); }
    .title { font-size: 1.6rem; font-weight: 800; letter-spacing: .2px; }
    .muted { color: var(--muted); font-size: .95rem; }

    .card { background: var(--surface); border-radius: var(--radius); box-shadow: var(--shadow); overflow: clip; border: 1px solid rgba(148,163,184,.15); }

    .tabs { display: grid; grid-template-rows: auto 1fr; min-height: 420px; }
    .tablist { display: flex; flex-wrap: wrap; gap: 8px; background: linear-gradient(180deg, rgba(42,108,244,.12), transparent); padding: 14px; border-bottom: 1px solid rgba(148,163,184,.20); }
    .tab {
      appearance: none; border: 0; cursor: pointer; background: var(--surface); color: var(--text);
      padding: 10px 14px; border-radius: 10px; font-weight: 600; transition: transform .15s ease, background .2s ease;
      box-shadow: 0 2px 8px rgba(2, 8, 23, 0.05);
    }
    .tab[aria-selected="true"] { background: var(--primary); color: var(--primary-contrast); }
    .tab:focus-visible { outline: none; box-shadow: var(--ring); }
    .tab:hover { transform: translateY(-1px); }

    .tabpanel { display: none; padding: 22px; }
    .tabpanel[aria-hidden="false"] { display: block; }

    .btn {
      appearance: none; border: 0; cursor: pointer; font-weight: 700; background: var(--primary); color: var(--primary-contrast);
      padding: 10px 14px; border-radius: 10px; box-shadow: 0 6px 16px rgba(42,108,244,.35); transition: transform .15s ease, filter .2s ease;
    }
    .btn:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .btn:focus-visible { outline: none; box-shadow: var(--ring); }

    .link { color: var(--primary); font-weight: 700; text-decoration: none; }
    .link:focus-visible { outline: none; box-shadow: var(--ring); border-radius: 6px; }

    .game-area { display: grid; gap: 12px; max-width: 620px; }
    .choices { display: flex; flex-wrap: wrap; gap: 10px; }
    .score { font-weight: 800; }

    iframe { border: 0; width: 100%; max-width: 100%; aspect-ratio: 16/9; border-radius: 12px; }

    footer { margin-top: 24px; color: var(--muted); font-size: .9rem; text-align: center; }

    /* Hover-Wackler (nur wenn erlaubt) */
    @keyframes wiggle {
      0%,100%{transform:rotate(0)} 15%{transform:rotate(-6deg)} 30%{transform:rotate(6deg)}
      45%{transform:rotate(-4deg)} 60%{transform:rotate(4deg)} 75%{transform:rotate(-2deg)} 90%{transform:rotate(2deg)}
    }
    @media (prefers-reduced-motion: no-preference){ .btn:hover,.link:hover{animation:wiggle .6s ease both} }

    /* Dropdowns */
    details.game { border:1px solid rgba(148,163,184,.25); border-radius:12px; padding:12px 14px; margin:14px 0; background:var(--surface); box-shadow:var(--shadow); }
    details.game > summary { list-style:none; cursor:pointer; font-weight:800; }
    details.game > summary::-webkit-details-marker { display:none; }
    details.game[open]{ border-color: rgba(42,108,244,.35); }

    /* Reaction Timer */
    .rt-box { width: 100%; max-width: 520px; border: 1px dashed rgba(148,163,184,.5); border-radius: 12px; padding: 16px; text-align: center; }
    .rt-pad { margin-top: 10px; padding: 26px; border-radius: 12px; user-select: none; cursor: pointer; }
    .rt-wait { background: #f8fafc; color: #475569; }
    .rt-ready { background: #ef4444; color: #fff; }
    .rt-go { background: #22c55e; color: #0b1220; }

    /* Snake */
    .snake-wrap { display: grid; gap: 10px; align-items: start; }
    #snakeCanvas { background:#0b1220; border:1px solid rgba(148,163,184,.4); border-radius:8px; width:400px; height:400px; image-rendering:pixelated; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .stat { font-weight:800; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <img alt="Jenbi Avatar" src="https://yt3.googleusercontent.com/5j4zseBO0OrjSe51wzVmqQ8jfrpsTFhk_GSuij_Ng9vusIpFr6l7Vi9S_8Klo-yCVRyEOCBKDg=s256-c-k-c0x00ffffff-no-rj" />
        <div>
          <div class="title">Jenbi</div>
          <div class="muted">Roblox • Minecraft • Nintendo • aus NÖ 🦌</div>
        </div>
      </div>
      <button id="themeToggle" class="btn" aria-label="Darstellung umschalten">🌓 Theme</button>
    </header>

    <section class="card tabs" id="tabs">
      <div role="tablist" aria-label="Bereiche" class="tablist">
        <button class="tab" role="tab" id="tab-ueber" aria-controls="panel-ueber" aria-selected="true">🧍 Über mich</button>
        <button class="tab" role="tab" id="tab-games" aria-controls="panel-games" aria-selected="false">🎮 Mini-Games</button>
        <button class="tab" role="tab" id="tab-links" aria-controls="panel-links" aria-selected="false">🔗 Links</button>
      </div>

      <!-- Über mich -->
      <div id="panel-ueber" class="tabpanel" role="tabpanel" aria-labelledby="tab-ueber" aria-hidden="false">
        <h2>Über mich</h2>
        <p>Servas! Ich bin <strong>Jenbi</strong> – willkommen auf meiner kleinen, aber feinen Seite. Hier find’sd Mini-Games, Links und a bissl was über mich. 😎</p>
        <p>Ich komm’ aus dem schönen <strong>Niederösterreich</strong> und mach (wenn ich brav bin 😉) Videos zu <em>Roblox</em>, <em>Minecraft</em> und <em>Nintendo</em>.</p>
        <p>Homies: <strong>Fabian</strong> (IRL), <strong>Joel</strong> (Brawl Stars-Discord), <strong>zLequit</strong> (seit Jahren; über RunningStarJonas; geiler YTer – <em>auch abonnieren auf süß!</em>)</p>
      </div>

      <!-- Mini-Games -->
      <div id="panel-games" class="tabpanel" role="tabpanel" aria-labelledby="tab-games" aria-hidden="true">
        <h2>Mini-Games</h2>

        <details class="game" id="dd-ssp">
          <summary>✂️🪨📄 Schere-Stein-Papier</summary>
          <article class="game-area">
            <div class="choices">
              <button class="btn" data-choice="Schere">✌️ Schere</button>
              <button class="btn" data-choice="Stein">🪨 Stein</button>
              <button class="btn" data-choice="Papier">📄 Papier</button>
              <button class="btn" id="resetScore" title="Score zurücksetzen">🔁 Reset</button>
            </div>
            <p id="ssp-result" class="score">—</p>
            <p class="muted" id="ssp-score" aria-live="polite">Score: 0 🏆 | Wins: 0 | Losses: 0 | Draws: 0</p>
          </article>
        </details>

        <details class="game" id="dd-rt">
          <summary>⚡ Reaction Timer</summary>
          <article class="rt-box">
            <div id="rt-pad" class="rt-pad rt-wait">Klick zum Starten …</div>
            <div class="row">
              <div class="stat">Letzte Zeit: <span id="rt-last">–</span> ms</div>
              <div class="stat">Best: <span id="rt-best">–</span> ms</div>
              <button id="rt-reset" class="btn" title="Bestzeit löschen">🗑️ Reset Best</button>
            </div>
          </article>
        </details>

        <article class="game-area" aria-labelledby="snake-title">
  <h3 id="snake-title">🐍 Snake</h3>
  <canvas id="snakeCanvas" width="320" height="320" style="border-radius:12px;border:1px solid rgba(148,163,184,.25)"></canvas>
  <p class="muted">
    Score: <span id="snakeScore">0</span> | Best: <span id="snakeBest">0</span>
    <button class="btn" id="snakeReset" style="margin-left:10px">🔁 Reset</button>
    <button class="btn" id="snakePause" style="margin-left:6px">⏸️ Pause</button>
  </p>
  <p class="muted">Steuerung: Pfeile/WASD • R = Restart • P = Pause</p>
</article>


        <details class="game" id="dd-quiz">
          <summary>🧠 Trivia Quiz</summary>
          <article class="game-area">
            <div id="quiz-box"></div>
            <div class="row">
              <button id="quiz-start" class="btn">📝 Quiz starten</button>
              <div class="stat">Punkte: <span id="quiz-score">0</span></div>
              <div class="stat">Best: <span id="quiz-best">0</span></div>
              <button id="quiz-reset" class="btn" title="Best löschen">🗑️ Reset Best</button>
            </div>
          </article>
        </details>

      </div>

      <!-- Links -->
      <div id="panel-links" class="tabpanel" role="tabpanel" aria-labelledby="tab-links" aria-hidden="true">
        <h2>Links</h2>
        <p>Mein YouTube-Kanal:</p>
        <p><a class="link" href="https://www.youtube.com/@jenbi13" target="_blank" rel="noopener noreferrer">➡️ Jenbi auf YouTube</a></p>
        <p>Beliebtestes Video:</p>
        <iframe title="Beliebtestes Video von Jenbi"
          src="https://www.youtube.com/embed/lDBJk9_NfrY?si=6cJZscBPXnm-Akve"
          loading="lazy" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
        </iframe>
      </div>
    </section>

    <footer>
      <p>© <span id="year"></span> Jenbi • Gemacht mit <span aria-label="Liebe" role="img">❤️</span> & ein bissl Schmäh.</p>
    </footer>
  </div>

  <script>
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    // Theme Toggle (mit Guard)
    const themeToggle = $('#themeToggle');
    const prefKey = 'jenbi.theme';
    const savedTheme = localStorage.getItem(prefKey);
    document.documentElement.setAttribute('data-theme',
      (savedTheme === 'light' || savedTheme === 'dark') ? savedTheme : 'auto'
    );
    themeToggle?.addEventListener('click', () => {
      const cur = document.documentElement.getAttribute('data-theme');
      const next = cur === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem(prefKey, next);
    });

    // Tabs (mit Guard)
    const tabs = $$('.tab');
    const panels = $$('.tabpanel');
    function activateTab(index, pushHash = true) {
      tabs.forEach((t, i) => {
        const selected = i === index;
        t.setAttribute('aria-selected', String(selected));
        t.tabIndex = selected ? 0 : -1;
        const panel = $('#' + t.getAttribute('aria-controls'));
        panel?.setAttribute('aria-hidden', String(!selected));
      });
      if (pushHash && tabs[index]) {
        const id = tabs[index].id.replace('tab-', '');
        history.replaceState(null, '', '#' + id);
      }
      tabs[index]?.focus({ preventScroll: true });
    }
    tabs.forEach((tab, i) => {
      tab.addEventListener('click', () => activateTab(i));
      tab.addEventListener('keydown', (e) => {
        const key = e.key;
        if (key === 'ArrowRight' || key === 'ArrowLeft') {
          e.preventDefault();
          const dir = key === 'ArrowRight' ? 1 : -1;
          let next = (i + dir + tabs.length) % tabs.length;
          activateTab(next);
        }
        if (key === 'Home') { e.preventDefault(); activateTab(0); }
        if (key === 'End')  { e.preventDefault(); activateTab(tabs.length-1); }
      });
    });
    (function initFromHash(){
      const hash = location.hash.replace('#','');
      const idx = tabs.findIndex(t => t.id === 'tab-' + hash);
      activateTab(idx >= 0 ? idx : 0, false);
    })();

    // ===== SSP =====
    const sspKey = 'jenbi.ssp.score';
    const sspResult = $('#ssp-result');
    const sspScoreEl = $('#ssp-score');
    let score = { total: 0, win: 0, lose: 0, draw: 0 };
    try { const saved = JSON.parse(localStorage.getItem(sspKey)); if (saved && typeof saved === 'object') score = saved; } catch {}
    const choices = ['Schere','Stein','Papier'];
    const beats = { Schere: 'Papier', Stein: 'Schere', Papier: 'Stein' };
    function updateScoreline() {
      if (!sspScoreEl) return;
      sspScoreEl.textContent = `Score: ${score.total} 🏆 | Wins: ${score.win} | Losses: ${score.lose} | Draws: ${score.draw}`;
      localStorage.setItem(sspKey, JSON.stringify(score));
    }
    updateScoreline();
    function playSSP(choice) {
      const bot = choices[Math.floor(Math.random()*3)];
      let msg;
      if (choice === bot) { score.draw++; score.total++; msg = `${choice} vs ${bot} … Unentschieden!`; }
      else if (beats[choice] === bot) { score.win++; score.total++; msg = `${choice} vs ${bot} … DU HAST GEWONNEN!`; }
      else { score.lose++; score.total++; msg = `${choice} vs ${bot} … Du hast verloren!`; }
      if (sspResult) sspResult.textContent = msg; updateScoreline();
    }
    $$('.choices [data-choice]').forEach(btn => btn.addEventListener('click', () => playSSP(btn.dataset.choice)));
    $('#resetScore')?.addEventListener('click', () => { score = { total: 0, win: 0, lose: 0, draw: 0 }; updateScoreline(); if (sspResult) sspResult.textContent = '—'; });

    // ===== Reaction Timer (Pad-only) =====
    const rtPad = $('#rt-pad'), rtLast = $('#rt-last'), rtBest = $('#rt-best'), rtReset = $('#rt-reset');
    const rtKey = 'jenbi.rt.best';
    let rtTimeout = null, rtStartTime = 0, rtState = 'idle'; // idle | ready | go
    if (rtBest) { const v = Number(localStorage.getItem(rtKey)); if (v>0) rtBest.textContent = v; }
    function setPad(state, text){ if (!rtPad) return; rtPad.className = `rt-pad ${state}`; rtPad.textContent = text; }
    function armReaction(){
      rtState = 'ready'; setPad('rt-ready','Warte …');
      const delay = 700 + Math.random()*2300;
      rtTimeout = setTimeout(()=>{ rtState = 'go'; rtStartTime = performance.now(); setPad('rt-go','JETZT!'); }, delay);
    }
    rtPad?.addEventListener('click', () => {
      if (rtState === 'idle') {
        armReaction();
      } else if (rtState === 'ready') {
        clearTimeout(rtTimeout); rtState = 'idle'; setPad('rt-wait','Zu früh! Klick zum Neustart …');
      } else if (rtState === 'go') {
        const t = Math.round(performance.now() - rtStartTime);
        if (rtLast) rtLast.textContent = t;
        setPad('rt-wait','Klick zum Starten …'); rtState = 'idle';
        const best = Number(rtBest?.textContent) || Infinity;
        if (t < best && rtBest) { rtBest.textContent = t; localStorage.setItem(rtKey, String(t)); }
      }
    });
    rtReset?.addEventListener('click', () => { localStorage.removeItem(rtKey); if (rtBest) rtBest.textContent = '–'; });

    // ===== Snake (robuste Version) =====
(() => {
  const cvs = document.getElementById('snakeCanvas');
  if (!cvs) return; // falls das Spiel gerade nicht auf der Seite ist
  const ctx = cvs.getContext('2d');

  const CELL = 16;                 // Zellgröße in px
  const COLS = Math.floor(cvs.width  / CELL);
  const ROWS = Math.floor(cvs.height / CELL);
  const TICK_MS = 110;             // Spieltick

  const bestKey = 'jenbi.snake.best';
  let best = Number(localStorage.getItem(bestKey)) || 0;

  const scoreEl = document.getElementById('snakeScore');
  const bestEl  = document.getElementById('snakeBest');
  const btnReset = document.getElementById('snakeReset');
  const btnPause = document.getElementById('snakePause');

  bestEl.textContent = best;

  // State
  let snake, dir, nextDir, food, score, running, acc, lastTs, paused;

  function rndCell() {
    return { x: Math.floor(Math.random()*COLS), y: Math.floor(Math.random()*ROWS) };
  }

  function spawnFood() {
    // Stelle sicher, dass Food nicht auf der Snake liegt
    let f;
    do { f = rndCell(); }
    while (snake.some(s => s.x === f.x && s.y === f.y));
    food = f;
  }

  function reset() {
    snake = [{x: Math.floor(COLS/2), y: Math.floor(ROWS/2)}];
    dir = {x: 1, y: 0};           // Start nach rechts
    nextDir = dir;
    score = 0;
    scoreEl.textContent = score;
    paused = false;
    spawnFood();
    acc = 0; lastTs = undefined;
    if (!running) {
      running = true;
      requestAnimationFrame(loop);
    }
  }

  function setDir(nx, ny) {
    // Turn-Buffer: max 1 Turn pro Tick & nicht in die Gegenrichtung
    const opposite = (dir.x === -nx && dir.y === -ny);
    if (opposite) return;
    // Wenn bereits ein nächste Richtung gesetzt wurde, nicht spammen
    if (nextDir !== dir) return;
    nextDir = {x: nx, y: ny};
  }

  // Input
  window.addEventListener('keydown', (e) => {
    const k = e.key.toLowerCase();
    if (['arrowup','arrowdown','arrowleft','arrowright',' '].includes(e.key.toLowerCase())) {
      // verhindern, dass die Seite scrollt
      e.preventDefault?.();
    }
    if (k === 'arrowup' || k === 'w') setDir(0,-1);
    else if (k === 'arrowdown' || k === 's') setDir(0, 1);
    else if (k === 'arrowleft' || k === 'a') setDir(-1,0);
    else if (k === 'arrowright' || k === 'd') setDir(1, 0);
    else if (k === 'r') reset();
    else if (k === 'p') togglePause();
  });

  btnReset?.addEventListener('click', reset);
  btnPause?.addEventListener('click', togglePause);

  function togglePause() {
    paused = !paused;
    btnPause.textContent = paused ? '▶️ Weiter' : '⏸️ Pause';
  }

  function step() {
    // Richtung übernehmen (einmal pro Tick)
    dir = nextDir;

    const head = { x: snake[0].x + dir.x, y: snake[0].y + dir.y };

    // Kollision Wand
    if (head.x < 0 || head.x >= COLS || head.y < 0 || head.y >= ROWS) return gameOver();

    // Kollision Körper
    if (snake.some(s => s.x === head.x && s.y === head.y)) return gameOver();

    // bewegen
    snake.unshift(head);

    // Essen?
    if (head.x === food.x && head.y === food.y) {
      score++;
      scoreEl.textContent = score;
      if (score > best) {
        best = score;
        bestEl.textContent = best;
        localStorage.setItem(bestKey, best);
      }
      spawnFood();
    } else {
      snake.pop();
    }
  }

  function draw() {
    // Hintergrund
    ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--surface')?.trim() || '#0f172a';
    ctx.fillRect(0, 0, cvs.width, cvs.height);

    // leichte Grid-Optik (optional)
    ctx.globalAlpha = 0.08;
    ctx.fillStyle = '#000';
    for (let x = 0; x < COLS; x++) ctx.fillRect(x*CELL, 0, 1, cvs.height);
    for (let y = 0; y < ROWS; y++) ctx.fillRect(0, y*CELL, cvs.width, 1);
    ctx.globalAlpha = 1;

    // Food
    ctx.fillStyle = '#ef4444';
    ctx.fillRect(food.x*CELL, food.y*CELL, CELL, CELL);

    // Snake
    ctx.fillStyle = '#22c55e';
    snake.forEach((s, i) => {
      ctx.fillRect(s.x*CELL, s.y*CELL, CELL, CELL);
    });
  }

  function loop(ts) {
    if (!running) return;
    if (paused) { requestAnimationFrame(loop); return; }
    if (lastTs === undefined) lastTs = ts;
    const delta = ts - lastTs;
    lastTs = ts;
    acc += delta;

    while (acc >= TICK_MS) {
      step();
      acc -= TICK_MS;
    }
    draw();
    requestAnimationFrame(loop);
  }

  function gameOver() {
    running = false;
    // kurzer „Shake“-Effekt:
    cvs.animate([{transform:'translateX(0)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],{duration:250});
    // Auto-Restart nach kurzer Pause
    setTimeout(reset, 500);
  }

  // Start
  reset();
})();


    // ===== Trivia (20er Pool → random 5) =====
    const quizBox = $('#quiz-box'), quizStart = $('#quiz-start'), quizScoreEl = $('#quiz-score'), quizBestEl = $('#quiz-best');
    const quizKey = 'jenbi.quiz.best'; let quizScore=0, quizIdx=0;
    const QUESTIONS = [
      // Geschichte
      { q: 'In welchem Jahr fiel die Berliner Mauer?', a: ['1987','1989','1991','1993'], correct: 1 },
      { q: 'Wer gilt als Erfinder des Buchdrucks in Europa?', a: ['Leonardo da Vinci','Johannes Gutenberg','Isaac Newton','Martin Luther'], correct: 1 },
      { q: 'Wann war der Zweite Weltkrieg?', a: ['1914–1918','1939–1945','1950–1953','1961–1975'], correct: 1 },
      { q: 'Amtssprache des Römischen Reiches?', a: ['Griechisch','Latein','Aramäisch','Gotisch'], correct: 1 },
      { q: 'Erster Mensch auf dem Mond (1969)?', a: ['Buzz Aldrin','Yuri Gagarin','Neil Armstrong','Michael Collins'], correct: 2 },
      // Minecraft
      { q: 'Vollversion (Java 1.0) Release-Jahr?', a: ['2009','2010','2011','2012'], correct: 2 },
      { q: 'Was droppen Creeper standardmäßig?', a: ['Knochen','Schwarzpulver','Fäden','Schleimball'], correct: 1 },
      { q: 'Min. Obsidian für Netherportal?', a: ['8','10','12','14'], correct: 1 },
      { q: 'Berufsstation vom Geistlichen (Cleric)?', a: ['Schmiedetisch','Braustand','Webstuhl','Komposter'], correct: 1 },
      { q: 'Max Stack von Enderperlen?', a: ['16','32','64','8'], correct: 0 },
      // Geographie
      { q: 'Hauptstadt von Australien?', a: ['Sydney','Melbourne','Canberra','Perth'], correct: 2 },
      { q: 'Flächenmäßig größtes Land?', a: ['Kanada','Russland','China','USA'], correct: 1 },
      { q: 'Kleinstes Land der Welt?', a: ['Monaco','San Marino','Vatikanstadt','Liechtenstein'], correct: 2 },
      { q: 'Kontinent mit den meisten Staaten?', a: ['Europa','Afrika','Asien','Südamerika'], correct: 1 },
      { q: 'Hauptstadt von Kanada?', a: ['Toronto','Vancouver','Ottawa','Montreal'], correct: 2 },
      // Nintendo / Odyssey
      { q: 'Release-Jahr von Super Mario Odyssey?', a: ['2015','2016','2017','2018'], correct: 2 },
      { q: 'Name des Hut-Begleiters in Odyssey?', a: ['Toad','Cappy','Luma','Pauline'], correct: 1 },
      { q: 'Haupt-Sammelobjekte in Odyssey?', a: ['Power-Sterne','Power-Monde','Shines','Wundersaaten'], correct: 1 },
      { q: 'Frühes T-Rex-Königreich?', a: ['Wooded','Sand','Cascade','Metro'], correct: 2 },
      { q: 'Zusatzwährung pro Königreich?', a: ['Violette Regionalmünzen','Rote Sterne','Blaue Rubine','Silberne Ringe'], correct: 0 },
    ];
    function pickRandom(arr, n){ const copy = arr.slice(); for (let i = copy.length - 1; i > 0; i--) { const j = Math.floor(Math.random()*(i+1)); [copy[i], copy[j]] = [copy[j], copy[i]]; } return copy.slice(0,n); }
    let QUIZ = [];
    const savedQuizBest = Number(localStorage.getItem(quizKey)||0); if (quizBestEl) quizBestEl.textContent = savedQuizBest;

    function renderQuestion(){
      if (quizIdx >= QUIZ.length) return finishQuiz();
      const {q, a, correct} = QUIZ[quizIdx];
      if (!quizBox) return;
      quizBox.innerHTML = '';
      const h = document.createElement('p'); h.textContent = q; quizBox.appendChild(h);
      a.forEach((txt, i)=>{
        const b = document.createElement('button'); b.className='btn'; b.style.marginRight='8px'; b.textContent = txt;
        b.addEventListener('click', ()=>{
          if (i===correct) { quizScore++; if (quizScoreEl) quizScoreEl.textContent = String(quizScore); }
          quizIdx++; renderQuestion();
        });
        quizBox.appendChild(b);
      });
    }
    function finishQuiz(){
      if (!quizBox) return;
      quizBox.innerHTML = `Fertig. Punkte: ${quizScore}/${QUIZ.length}`;
      if (quizScore > savedQuizBest) { localStorage.setItem(quizKey, String(quizScore)); if (quizBestEl) quizBestEl.textContent = String(quizScore); }
    }
    function updateQuizAvailability(){ if (quizStart) quizStart.disabled = QUESTIONS.length < 5; }
    updateQuizAvailability();
    quizStart?.addEventListener('click', ()=>{ QUIZ = pickRandom(QUESTIONS, 5); quizScore=0; quizIdx=0; if (quizScoreEl) quizScoreEl.textContent='0'; renderQuestion(); });
    $('#quiz-reset')?.addEventListener('click', ()=>{ localStorage.removeItem(quizKey); if (quizBestEl) quizBestEl.textContent='0'; });

    // ===== Konami Code → Rickroll =====
    const KONAMI = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
    let buffer = [];
    window.addEventListener('keydown', (e)=>{
      const key = e.key.length===1 ? e.key.toLowerCase() : e.key;
      buffer.push(key);
      if (buffer.length > KONAMI.length) buffer.shift();
      const match = KONAMI.every((k, i) => buffer[i] === k);
      if (match) { buffer = []; window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ', '_blank'); alert('Never gonna give you up 🎶'); }
    });

    // Footer year
    $('#year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

